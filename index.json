[{"body":"","link":"https://blog.rogerogers.com/posts/dev/","section":"posts","tags":null,"title":"dev"},{"body":"","link":"https://blog.rogerogers.com/","section":"","tags":null,"title":""},{"body":"","link":"https://blog.rogerogers.com/tags/grafana/","section":"tags","tags":null,"title":"grafana"},{"body":"","link":"https://blog.rogerogers.com/tags/helm/","section":"tags","tags":null,"title":"helm"},{"body":"","link":"https://blog.rogerogers.com/tags/k8s/","section":"tags","tags":null,"title":"k8s"},{"body":"","link":"https://blog.rogerogers.com/tags/kubernetes/","section":"tags","tags":null,"title":"kubernetes"},{"body":"","link":"https://blog.rogerogers.com/posts/ops/","section":"posts","tags":["linux","k8s","kubernetes"],"title":"ops"},{"body":"Grafana is a cross-platform, open-source tool for metric analysis and visualization, primarily used for querying and displaying collected data.\nIt provides a wealth of visualization options, including rapidly adaptable client-side charts, panel plugins for visualizing metrics and logs in different ways, and rich dashboard plugins, such as heat maps, line charts, and graphs.\nGrafana helps users quickly view and edit the front-end of their dashboards, supporting multiple data sources simultaneously, and is capable of transforming time series database (TSDB) data into stunning charts.\nPreparation Kubernetes Helm Postgresql (optional) Kubeapps (optional) Installation Import Bitnami Repository 1helm repo add bitnami https://charts.bitnami.com/bitnami 2helm repo update Prepare Chart Values The complete original values can be viewed using the helm command:\n1helm show values bitnami/grafana Areas to be modified:\n1config: 2 useGrafanaIniFile: true 3 grafanaIniConfigMap: \u0026#34;grafana-config\u0026#34; 4grafana: 5 # Store additional environment variables, such as database password environment variables 6 extraEnvVarsSecret: \u0026#34;grafana\u0026#34; 7 # Change to the desired value, here set to AliCloud 8 storageClass: \u0026#34;alicloud-disk-available\u0026#34; 9 # Modify the PV size, AliCloud\u0026#39;s minimum is 20Gi, anything smaller cannot be created 10 size: 20Gi grafana-config\n1apiVersion: v1 2data: 3 grafana.ini: |- 4 [database] 5 type = postgres 6 # Change to the actual value 7 host = \u0026#34;YOUR_PG_HOST\u0026#34; 8 # Change to the actual database username 9 name = grafana 10 # Change to the actual database password 11 user = grafana 12 # ConfigMaps are not suitable for storing password-related information. Here, env is used to store the database password, which can be used with extraEnvVarsSecret 13 password = $__env{PG_PASSWORD} 14kind: ConfigMap 15metadata: 16 name: grafana-config 17 namespace: monitor LDAP If you need to use LDAP for unified login, LDAP configuration needs to be set up:\n1ldap: 2 ## ldap.enabled Enable LDAP for Grafana 3 ## 4 enabled: true 5 ## ldap.secretName Name of the Secret with the ldap.toml configuration file for Grafana 6 ## NOTE: When it\u0026#39;s set the ldap.configuration parameter is ignored 7 ## 8 secretName: \u0026#34;grafana-ldap\u0026#34; ldap.toml\n1[[servers]] 2# Ldap server host (specify multiple hosts space separated) 3host = \u0026#34;ldap.my_secure_remote_server.org\u0026#34; 4# Default port is 389 or 636 if use_ssl = true 5port = 636 6# Set to true if LDAP server should use an encrypted TLS connection (either with STARTTLS or LDAPS) 7use_ssl = true 8# If set to true, use LDAP with STARTTLS instead of LDAPS 9start_tls = false 10# set to true if you want to skip SSL cert validation 11ssl_skip_verify = false 12# set to the path to your root CA certificate or leave unset to use system defaults 13# root_ca_cert = \u0026#34;/path/to/certificate.crt\u0026#34; 14# Authentication against LDAP servers requiring client certificates 15# client_cert = \u0026#34;/path/to/client.crt\u0026#34; 16# client_key = \u0026#34;/path/to/client.key\u0026#34; 17 18# Search user bind dn 19bind_dn = \u0026#34;cn=admin,dc=grafana,dc=org\u0026#34; 20# Search user bind password 21# If the password contains # or ; you have to wrap it with triple quotes. Ex \u0026#34;\u0026#34;\u0026#34;#password;\u0026#34;\u0026#34;\u0026#34; 22bind_password = \u0026#34;grafana\u0026#34; 23# We recommend using variable expansion for the bind_password, for more info https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/#variable-expansion 24# bind_password = \u0026#39;$__env{LDAP_BIND_PASSWORD}\u0026#39; 25 26# Timeout in seconds. Applies to each host specified in the \u0026#39;host\u0026#39; entry (space separated). 27timeout = 10 28 29# User search filter, for example \u0026#34;(cn=%s)\u0026#34; or \u0026#34;(sAMAccountName=%s)\u0026#34; or \u0026#34;(uid=%s)\u0026#34; 30# Allow login from email or username, example \u0026#34;(|(sAMAccountName=%s)(userPrincipalName=%s))\u0026#34; 31search_filter = \u0026#34;(cn=%s)\u0026#34; 32 33# An array of base dns to search through 34search_base_dns = [\u0026#34;dc=grafana,dc=org\u0026#34;] 35 36# group_search_filter = \u0026#34;(\u0026amp;(objectClass=posixGroup)(memberUid=%s))\u0026#34; 37# group_search_filter_user_attribute = \u0026#34;distinguishedName\u0026#34; 38# group_search_base_dns = [\u0026#34;ou=groups,dc=grafana,dc=org\u0026#34;] 39 40# Specify names of the LDAP attributes your LDAP uses 41[servers.attributes] 42member_of = \u0026#34;memberOf\u0026#34; 43email = \u0026#34;email\u0026#34; 1kubectl create secret generic grafana-ldap --from-file=ldap.toml=ldap.toml Installation Run the following command to install Grafana using Helm and the values.yaml file:\n1helm install ${RELEASE_NAME} bitnami/grafana -f values.yaml The following output will be displayed:\n1CHART NAME: grafana 2CHART VERSION: x.x.x 3APP VERSION: x.x.x 4 5** Please be patient while the chart is being deployed ** 6 71. Get the application URL by running these commands: 8 echo \u0026#34;Browse toÂ [http://127.0.0.1:8080](http://127.0.0.1:8080/)\u0026#34; 9 kubectl port-forward svc/grafana 8080:3000 \u0026amp; 10 112. Get the admin credentials: 12 13 echo \u0026#34;User: admin\u0026#34; 14 echo \u0026#34;Password: $(kubectl get secret grafana-admin --namespace monitor -o jsonpath=\u0026#34;{.data.GF_SECURITY_ADMIN_PASSWORD}\u0026#34; | base64 -d)\u0026#34; If LDAP is used, simply use your LDAP account and password to log in.\nResult ","link":"https://blog.rogerogers.com/posts/ops/helm-grafana/","section":"posts","tags":["k8s","kubernetes","helm","grafana"],"title":"Quickly Deploy Grafana to Kubernetes"},{"body":"","link":"https://blog.rogerogers.com/tags/","section":"tags","tags":null,"title":"Tags"},{"body":"","link":"https://blog.rogerogers.com/tags/prometheus/","section":"tags","tags":null,"title":"prometheus"},{"body":"Source Helm Kubernetes Bitnami Optional Kubeapps Install Example lines you may need change, find the full values by helm show values bitnami/kube-prometheus\n1# kube-prometheus.yaml 2global: 3 storageClass: \u0026#34;alicloud-disk-available\u0026#34; 4prometheus: 5 # set url or use ingress 6 externalUrl: \u0026#34;\u0026#34; 7 ruleSelector: { matchLabels: { prometheus: \u0026#34;example\u0026#34; } } 8 persistence: 9 enable: true 10 # alibabacloud require at least 20Gi per pv 11 size: 20Gi 12 thanos: 13 # if you need update date to object store, eg monio, s3 14 objectStorageConfig: 15 secretName: thanos.yaml 16 # thanos compactor externalconfig need filename to be objstore.yml 17 secretKey: objstore.yml 18 create: true 19alertmanager: 20 config: 21 global: 22 resolve_timeout: 5m 23 route: 24 group_by: [\u0026#34;alertname\u0026#34;] 25 group_wait: 30s 26 group_interval: 5m 27 repeat_interval: 1h 28 receiver: \u0026#34;webhook\u0026#34; 29 routes: 30 - match: 31 alertname: Watchdog 32 receiver: \u0026#34;webhook\u0026#34; 33 receivers: 34 - name: \u0026#34;webhook\u0026#34; 35 webhook_configs: 36 - url: \u0026#34;http://webhook.com/notify/prom\u0026#34; 37 configSelector: { matchLabels: { alertmanagerConfig: \u0026#34;example\u0026#34; } } 1# Here i use prom namespace 2kubectl create ns prom 3helm repo add bitnami https://charts.bitnami.com/bitnami 4helm install prom bitnami/kube-prometheus -n prom -f kube-prometheus.yaml A prometheus cluster with basic feature will finish after severial minutes base on your network\n","link":"https://blog.rogerogers.com/posts/ops/kube-prometheus/","section":"posts","tags":["helm","k8s","kubernetes","prometheus"],"title":"Quickly deploy a prometheus cluster via helm"},{"body":"source tauri Tauri 1.0 has launched! Read the blog post rustup Install I use kali as my main development desktop, see the full install doc here\n1sudo apt update 2sudo apt install -y libwebkit2gtk-4.0-dev \\ 3 build-essential \\ 4 curl \\ 5 wget \\ 6 libssl-dev \\ 7 libgtk-3-dev \\ 8 libayatana-appindicator3-dev \\ 9 librsvg2-dev 10 11#install rust use rustup 12curl --proto \u0026#39;=https\u0026#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh 13#install tauri use cargo 14cargo install tauri-cli --version \u0026#34;^1.0.0\u0026#34; 15#manage node version use nvm 16curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash 17#restart you terminal session or source you terminal rc file 18#install latest lts version node 19nvm install --lts Download node from node official website\nnode script\n1{ 2 // This content is just a sample 3 \u0026#34;scripts\u0026#34;: { 4 \u0026#34;tauri\u0026#34;: \u0026#34;tauri\u0026#34; 5 } 6} 1# here i use [ant design pro](https://pro.ant.design/zh-CN/docs/getting-started) 2npm i @ant-design/pro-cli -g 3pro create tauri-app 4cd tauri-app \u0026amp;\u0026amp; npm install 5#install tauri 6npm install --save-dev @tauri-apps/cli 7#edit your package.json put node script in 8npm run tauri init 9#edit src-tauri/tauri.conf.json 10#\u0026#34;beforeBuildCommand\u0026#34;: \u0026#34;npm run build\u0026#34;, 11#\u0026#34;beforeDevCommand\u0026#34;: \u0026#34;npm run dev\u0026#34;, 12#\u0026#34;devPath\u0026#34;: \u0026#34;http://localhost:8000\u0026#34;, 13#\u0026#34;distDir\u0026#34;: \u0026#34;../dist\u0026#34; 14npm run tauri dev 1npm run tauri build 2#will got a deb bundle and an appimage file under src-tauri/target/release/bundle Happy dev your cross-platform GUI use javascript\n","link":"https://blog.rogerogers.com/posts/dev/build-your-gui-use-tauri/","section":"posts","tags":["gui","rust","tauri"],"title":"Build your gui use tauri"},{"body":"","link":"https://blog.rogerogers.com/tags/gui/","section":"tags","tags":null,"title":"gui"},{"body":"","link":"https://blog.rogerogers.com/tags/rust/","section":"tags","tags":null,"title":"rust"},{"body":"","link":"https://blog.rogerogers.com/tags/tauri/","section":"tags","tags":null,"title":"tauri"},{"body":"","link":"https://blog.rogerogers.com/tags/dev/","section":"tags","tags":null,"title":"dev"},{"body":"","link":"https://blog.rogerogers.com/tags/golang/","section":"tags","tags":null,"title":"golang"},{"body":"","link":"https://blog.rogerogers.com/tags/kratos/","section":"tags","tags":null,"title":"kratos"},{"body":" 1package main 2 3import ( 4 \u0026#34;flag\u0026#34; 5 \u0026#34;os\u0026#34; 6 7 \u0026#34;ldap-manager/internal/conf\u0026#34; 8 9 nacos_config \u0026#34;github.com/go-kratos/kratos/contrib/config/nacos/v2\u0026#34; 10 \u0026#34;github.com/go-kratos/kratos/v2\u0026#34; 11 \u0026#34;github.com/go-kratos/kratos/v2/config\u0026#34; 12 \u0026#34;github.com/go-kratos/kratos/v2/log\u0026#34; 13 \u0026#34;github.com/go-kratos/kratos/v2/middleware/tracing\u0026#34; 14 \u0026#34;github.com/go-kratos/kratos/v2/transport/grpc\u0026#34; 15 \u0026#34;github.com/go-kratos/kratos/v2/transport/http\u0026#34; 16 \u0026#34;github.com/nacos-group/nacos-sdk-go/clients\u0026#34; 17 \u0026#34;github.com/nacos-group/nacos-sdk-go/common/constant\u0026#34; 18 \u0026#34;github.com/nacos-group/nacos-sdk-go/vo\u0026#34; 19) 20 21func main() { 22 nacosHost := os.Getenv(\u0026#34;NACOS_HOST\u0026#34;) 23 if nacosHost == \u0026#34;\u0026#34; { 24 nacosHost = \u0026#34;127.0.0.1\u0026#34; 25 } 26 sc := []constant.ServerConfig{ 27 *constant.NewServerConfig(nacosHost, 8848), 28 } 29 30 namespaceId := os.Getenv(\u0026#34;NAMESPACE_ID\u0026#34;) 31 32 cc := \u0026amp;constant.ClientConfig{ 33 NamespaceId: namespaceId, //namespace id 34 TimeoutMs: 5000, 35 NotLoadCacheAtStart: true, 36 LogLevel: \u0026#34;error\u0026#34;, 37 } 38 39 // a more graceful way to create naming client 40 client, err := clients.NewConfigClient( 41 vo.NacosClientParam{ 42 ClientConfig: cc, 43 ServerConfigs: sc, 44 }, 45 ) 46 if err != nil { 47 panic(err) 48 } 49 50 c := config.New( 51 config.WithSource( 52 nacos_config.NewConfigSource( 53 client, 54 nacos_config.WithDataID(\u0026#34;test.yaml\u0026#34;), 55 nacos_config.WithGroup(\u0026#34;test\u0026#34;), 56 //info level is noisy, always mess your console 57 nacos_config.WithLogLevel(\u0026#34;error\u0026#34;), 58 ), 59 ), 60 ) 61 //always remember close 62 defer c.Close() 63 //load config 64 if err := c.Load(); err != nil { 65 panic(err) 66 } 67 68 var bc conf.Bootstrap 69 //config covert to go struct 70 if err := c.Scan(\u0026amp;bc); err != nil { 71 panic(err) 72 } 73 //keep sync from server 74 c.Watch(\u0026#34;data\u0026#34;, func(key string, value config.Value) { 75 value.Scan(\u0026amp;bc.Data) 76 }) 77} ","link":"https://blog.rogerogers.com/posts/dev/kratos-use-nacos-as-config-center/","section":"posts","tags":["dev","golang","kratos","nacos"],"title":"Kratos use nacos as config center"},{"body":"","link":"https://blog.rogerogers.com/tags/nacos/","section":"tags","tags":null,"title":"nacos"},{"body":"","link":"https://blog.rogerogers.com/tags/vim/","section":"tags","tags":null,"title":"vim"},{"body":"Install 1sudo apt purge vim-tiny vim-common -y \u0026amp;\u0026amp; sudo apt install vim 2sudo dnf remove vim-tiny vim-common -y \u0026amp;\u0026amp; sudo dnf install vim 3brew install vim 4vimtutor 5#basic vim tourist help you quick operator vim config your vim file\n1#use rogerogers\u0026#39;s vimrc 2git clone git@github.com:rogerogers/vimrc.git 1#!/usr/bin/env sh 2set -ex 3 4git clone --depth=1 https://github.com/amix/vimrc.git ~/.vim_runtime 5sh ~/.vim_runtime/install_awesome_vimrc.sh 6 7#aimx\u0026#39;s custom config position 8ln -s $(pwd)/my_configs.vim $HOME/.vim_runtime/my_configs.vim 9 10#use vim-plug add some other plug 11curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ 12 https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim happy vim\n","link":"https://blog.rogerogers.com/posts/dev/vim-tourist/","section":"posts","tags":["vim"],"title":"Vim tourist"},{"body":"","link":"https://blog.rogerogers.com/tags/alertmanager/","section":"tags","tags":null,"title":"alertmanager"},{"body":"","link":"https://blog.rogerogers.com/tags/ansible/","section":"tags","tags":null,"title":"ansible"},{"body":"Install 1sudo apt install ansible 2#or use pip3 3pip3 install --user ansible 4ansible --version 5# ansible [core 2.12.4] 6# config file = None 7# configured module search path = [\u0026#39;/home/rogers/.ansible/plugins/modules\u0026#39;, \u0026#39;/usr/share/ansible/plugins/modules\u0026#39;] 8# ansible python module location = /usr/lib/python3/dist-packages/ansible 9# ansible collection location = /home/rogers/.ansible/collections:/usr/share/ansible/collections 10# executable location = /bin/ansible 11# python version = 3.10.4 (main, Mar 24 2022, 13:07:27) [GCC 11.2.0] 12# jinja version = 3.0.3 13# libyaml = True 14ssh-copy-id root@127.0.0.1 15#input your password define your inventory file\nhosts file\n1[localhost] 2127.0.0.1 1ansible -i hosts -m ping 2# 127.0.0.1 | SUCCESS =\u0026gt; { 3# \u0026#34;ansible_facts\u0026#34;: { 4# \u0026#34;discovered_interpreter_python\u0026#34;: \u0026#34;/usr/bin/python3.10\u0026#34; 5# }, 6# \u0026#34;changed\u0026#34;: false, 7# \u0026#34;ping\u0026#34;: \u0026#34;pong\u0026#34; 8# } 9ansible-doc ping 10#show module help ","link":"https://blog.rogerogers.com/posts/ops/use-ansible-manager-large-number-of-computer/","section":"posts","tags":["ops","ansible"],"title":"Ansible beginner"},{"body":"source prometheus\ngrafana\ntelegraf\ninstall alertmanager 1wget https://github.com/prometheus/alertmanager/releases/download/v0.24.0/alertmanager-0.24.0.linux-amd64.tar.gz -O alertmanager.tar.gz 2tar -zxvf alertmanager.tar.gz 3cd alertmanager 4#you will see the alertmanager binary and a simple yaml config 5./alertmanager -h 6#show usage of alertmanager alertmanager.yml\n1route: 2 group_by: [\u0026#34;alertname\u0026#34;] 3 group_wait: 30s 4 group_interval: 5m 5 repeat_interval: 1h 6 receiver: \u0026#34;web.hook\u0026#34; 7receivers: 8 - name: \u0026#34;web.hook\u0026#34; 9 webhook_configs: 10 - url: \u0026#34;http://127.0.0.1:5001/\u0026#34; 11inhibit_rules: 12 - source_match: 13 severity: \u0026#34;critical\u0026#34; 14 target_match: 15 severity: \u0026#34;warning\u0026#34; 16 equal: [\u0026#34;alertname\u0026#34;, \u0026#34;dev\u0026#34;, \u0026#34;instance\u0026#34;] ./alertmanater start alertmanager server on port 9093\nnode exporter Prometheus collects variable metrics from variable kinds of exporter\n1wget https://github.com/prometheus/node_exporter/releases/download/v1.3.1/node_exporter-1.3.1.linux-amd64.tar.gz -O node_exporter.tar.gz 2tar -zxvf node_exporter.tar.gz 3cd node_exporter 4#you will see the node exporter binary 5./node_exporter 6#start node exporter on port 9100 prometheus 1wget https://github.com/prometheus/prometheus/releases/download/v2.36.2/prometheus-2.36.2.linux-amd64.tar.gz -O prometheus.tar.gz 2tar -zxvf prometheus 3cd prometheus 4#you will see the prometheus binary and a simple yaml config 5./prometheus -h 6#show usage of prometheus modify your prometheus.yml prometheus.yml\n1# my global config 2global: 3 scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute. 4 evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute. 5 # scrape_timeout is set to the global default (10s). 6# Alertmanager configuration 7alerting: 8 alertmanagers: 9 - static_configs: 10 - targets: 11 - localhost:9093 12# Load rules once and periodically evaluate them according to the global \u0026#39;evaluation_interval\u0026#39;. 13rule_files: 14 - \u0026#34;first_rules.yml\u0026#34; 15 # - \u0026#34;second_rules.yml\u0026#34; 16# A scrape configuration containing exactly one endpoint to scrape: 17# Here it\u0026#39;s Prometheus itself. 18scrape_configs: 19 # The job name is added as a label `job=\u0026lt;job_name\u0026gt;` to any timeseries scraped from this config. 20 - job_name: \u0026#34;prometheus\u0026#34; 21 # metrics_path defaults to \u0026#39;/metrics\u0026#39; 22 # scheme defaults to \u0026#39;http\u0026#39;. 23 static_configs: 24 - targets: [\u0026#34;localhost:9090\u0026#34;] 25 - job_name: \u0026#34;node\u0026#34; 26 static_configs: 27 - targets: [\u0026#34;localhost:9100\u0026#34;] first_rules.yml\n1groups: 2 - name: high_cpu 3 rules: 4 - alert: HostHighCpuLoad 5 expr: 100 - (avg by(instance) (rate(node_cpu_seconds_total{mode=\u0026#34;idle\u0026#34;}[2m])) * 100) \u0026gt; 1 6 for: 0m 7 labels: 8 severity: warning 9 annotations: 10 summary: Host high CPU load (instance {{ $labels.instance }}) 11 description: \u0026#34;CPU load is \u0026gt; 80%\\n VALUE = {{ $value }}\\n LABELS = {{ $labels }}\u0026#34; start a simple web server receives the webhook\n1from flask import Flask, request 2app = Flask(__name__) 3@app.route(\u0026#34;/\u0026#34;, methods=[\u0026#34;POST\u0026#34;]) 4def index(): 5 \u0026#34;\u0026#34;\u0026#34;docstring for index\u0026#34;\u0026#34;\u0026#34; 6 print(request.data, \u0026#34;data\u0026#34;) 7 print(request.args, \u0026#34;args\u0026#34;) 8 print(request.form, \u0026#34;form\u0026#34;) 9 return \u0026#34;ok\u0026#34; grafana 1sudo apt-get install -y adduser libfontconfig1 2wget https://dl.grafana.com/oss/release/grafana_9.0.0_amd64.deb 3sudo dpkg -i grafana_9.0.0_amd64.deb 4sudo systemctl enable --now grafana-server.service open you browser open grafana dashboard login use admin/admin and change your default password open setting datasource add prometheus datasource find node dashboard in grafana dashboard market import dashboard by id 1860 ","link":"https://blog.rogerogers.com/posts/ops/build-monitoring-system-base-on-prometheus-and-grafana/","section":"posts","tags":["monitoring","prometheus","grafana","alertmanager"],"title":"Build monitoring system base on prometheus and grafana"},{"body":"","link":"https://blog.rogerogers.com/tags/monitoring/","section":"tags","tags":null,"title":"monitoring"},{"body":"","link":"https://blog.rogerogers.com/tags/ops/","section":"tags","tags":null,"title":"ops"},{"body":"source anaconda download\ninstall Windows Install anaconda\nlinux \u0026amp;\u0026amp; mac 1#you should have python3 installed first 2#mac 3brew install python3 4#ubuntu 5apt install python3 # apt install python-is-python3 make python default version 3 6#fedora 7dnf install python3 # dnf install python-is-python3 8#using pip or pipenv, i prefer pipenv 9pipenv install pyqt5 You may want to install pyqt5-tools install the qt-designer pipenv install pyqt5-tools . This makes your dev easilier\nqt-designer Create your first ui You can design you ui by dragging the components, and change attributes of your components Press ctrl-r review your design\nConvert your ui file to python code 1pyuic5 -x main.ui -o ui/main_window.py Run your code 1import sys 2 3from main_window import Ui_MainWindow 4from PyQt5.QtWidgets import QMainWindow,QApplication 5 6class MainWindow(QMainWindow): 7def __init__(self, parent=None) -\u0026gt; None: 8 super().__init__(parent) 9 self.ui = Ui_MainWindow() 10 self.ui.setupUi(self) 11 12def main(): 13 app = QApplication(sys.argv) 14 window = MainWindow() 15 #you can set title 16 #window.setWindowTitle(\u0026#34;hello world\u0026#34;) 17 window.show() 18 #you can set icon 19 #app.setWindowIcon(\u0026#34;icon.icon\u0026#34;) 20 sys.exit(app.exec_()) 21 22if __name__ == \u0026#34;__main__\u0026#34;: 23 main() pyqt is so awesome\n","link":"https://blog.rogerogers.com/posts/dev/build-your-gui-use-pyqt5/","section":"posts","tags":["gui","python","pyqt5"],"title":"Build your gui use pyqt5"},{"body":"","link":"https://blog.rogerogers.com/tags/pyqt5/","section":"tags","tags":null,"title":"pyqt5"},{"body":"","link":"https://blog.rogerogers.com/tags/python/","section":"tags","tags":null,"title":"python"},{"body":"","link":"https://blog.rogerogers.com/tags/cni/","section":"tags","tags":null,"title":"cni"},{"body":"","link":"https://blog.rogerogers.com/tags/containerd/","section":"tags","tags":null,"title":"containerd"},{"body":"Install 1# ubuntu debain and other debain base distribution 2sudo apt install crictl -y 3# centos fedora and other red hat base distribution 4sudo yum install crictl -y You can download directly from github release page\nCreate /etc/crictl.yaml 1runtime-endpoint: \u0026#34;unix:///run/containerd/containerd.sock\u0026#34; 2image-endpoint: \u0026#34;\u0026#34; 3timeout: 0 4debug: false 5pull-image-on-create: false 6disable-pull-on-run: false Create pod config pod-config.yaml 1metadata: 2 attempt: 1 3 name: nginx-sandbox 4 namespace: default 5 uid: hdishd83djaidwnduwk28bcsb 6log_directory: /tmp 7linux: 8 namespaces: 9 options: {} Create container config container-config.yaml 1metadata: 2 name: nginx 3image: 4 image: docker.io/nginx:alpine 5log_path: nginx.log 1crictl run container-config.json pod-config.json 2crictl ps -a 3#CONTAINER IMAGE CREATED STATE NAME ATTEMPT POD ID POD 4#86f1c7a2aaffe nginx 23 minutes ago Running nginx 0 dd6d7d4ea70cd unknown 5crictl start 86f1c7a2aaffe 6crictl ps 7crictl pods 8#POD ID CREATED STATE NAME NAMESPACE ATTEMPT RUNTIME 9#dd6d7d4ea70cd About an hour ago Ready nginx default 1 (default) 10crictl port-forward dd6d7d4ea70cd 80:80 11curl localhost 12#welcome to nginx ","link":"https://blog.rogerogers.com/posts/ops/crictl-usage/","section":"posts","tags":["linux","k8s","kubernetes","cni","containerd"],"title":"Crictl usage"},{"body":"","link":"https://blog.rogerogers.com/tags/linux/","section":"tags","tags":null,"title":"linux"},{"body":"","link":"https://blog.rogerogers.com/tags/mac/","section":"tags","tags":null,"title":"mac"},{"body":"","link":"https://blog.rogerogers.com/tags/multipass/","section":"tags","tags":null,"title":"multipass"},{"body":"Docker desktop costs so much to run\nInstall multipass\n1brew install --cask multipass 2# specific resource, default cpu 1, default disk 5G 3multipass launch --name linux -d 10G -m 4 4# shortcut, alias make command easy 5alias m=multipass 6m launch linux Here i use homebrew. You can download directly multipass release\nNow you are in linux env, you login by ubuntu with sudo permission\n1sudo apt install docker docker.io 2#or you prefer containerd 3sudo apt install containerd crictl Use Docker command to manage your container You can mount your local path into instance\n1# pwd $HOME 2m mount -u 501:1000 $HOME/Public linux01:/tmp/public 3# pay attention on the policy of you mount dir ","link":"https://blog.rogerogers.com/posts/dev/run-docker-on-mac-use-multipass/","section":"posts","tags":["linux","mac","multipass"],"title":"Run Docker on mac use multipass"},{"body":"root needed\nubuntu 1apt-get update \u0026amp;\u0026amp; apt-get install -y apt-transport-https 2curl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | apt-key add - 3cat \u0026lt;\u0026lt;EOF \u0026gt;/etc/apt/sources.list.d/kubernetes.list 4deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main 5EOF 6apt-get update 7apt-get install -y kubelet kubeadm kubectl 8#close swap 9swapoff -a 10#remove swap mount 11vi /etc/fstab apt-key is deprecated in some new version linux distribution, like ubuntu, put gpg file inside /etc/apt/trusted.gpg.d\nfedora 1cat \u0026lt;\u0026lt;EOF \u0026gt; /etc/yum.repos.d/kubernetes.repo 2[kubernetes] 3name=Kubernetes 4baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/ 5enabled=1 6gpgcheck=1 7repo_gpgcheck=1 8gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg 9EOF 10#close selinux 11setenforce 0 12#disable selinux 13sed -i \u0026#39;s/SELINUX=enforcing/SELINUX=disabled/g\u0026#39; 14#disable firewalld 15systemctl disable firewalld.service 16 17dnf update \u0026amp;\u0026amp; dnf install -y kubelet kubeadm kubectl 18systemctl enable --now kubelet 19#close swap 20swapoff -a 21#disable swap 22dnf remove zram-generator-defaults config 1apiVersion: kubeadm.k8s.io/v1beta3 2bootstrapTokens: 3 - groups: 4 - system:bootstrappers:kubeadm:default-node-token 5 token: abcdef.0123456789abcdef 6 ttl: 24h0m0s 7 usages: 8 - signing 9 - authentication 10kind: InitConfiguration 11localAPIEndpoint: 12 #apiserver address 13 advertiseAddress: 192.168.1.2 14 bindPort: 6443 15nodeRegistration: 16 # use containerd, docker is deprecated 17 criSocket: unix:///var/run/containerd/containerd.sock 18 imagePullPolicy: IfNotPresent 19 # node must visis 20 name: node 21 taints: null 22--- 23apiServer: 24 timeoutForControlPlane: 4m0s 25apiVersion: kubeadm.k8s.io/v1beta3 26certificatesDir: /etc/kubernetes/pki 27clusterName: kubernetes 28controllerManager: {} 29imageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers 30dns: {} 31etcd: 32 external: 33 # external etcd, you may use etcd provide by kubeadm 34 endpoints: 35 - https://192.168.1.2:2379 36 caFile: /etc/etcd/pki/ca.crt 37 certFile: /etc/etcd/pki/apiserver-etcd-client.crt 38 keyFile: /etc/etcd/pki/apiserver-etcd-client.key 39 40kind: ClusterConfiguration 41# latest version 42kubernetesVersion: 1.24.1 43networking: 44 dnsDomain: cluster.local 45 # here we use flannel cni plugin, you may change you use others such as calico 46 podSubnet: 10.244.0.0/16 47 serviceSubnet: 10.96.0.0/12 48scheduler: {} you can use kubeadm config print init-defaults print the latest version\nchange kernel param 1cat \u0026lt;\u0026lt;EOF | sudo tee /etc/modules-load.d/k8s.conf 2br_netfilter 3overlay 4EOF 5 6cat \u0026lt;\u0026lt;EOF | sudo tee /etc/sysctl.d/k8s.conf 7net.bridge.bridge-nf-call-ip6tables = 1 8net.bridge.bridge-nf-call-iptables = 1 9net.ipv4.ip_forward=1 10EOF maybe need load immediately\n1modprobe br_netfilter overlay 1#pull image first 2kubeadm config images pull --config kubeadm-init-config.yaml 3#init 4kubeadm init --config kubeadm-init-config.yaml 5#allow single node cluster run pod 6kubectl taint nodes --all node-role.kubernetes.io/control-plane- node-role.kubernetes.io/master- 1mkdir $HOME/.kube \u0026amp;\u0026amp; sudo cp /etc/kubenertes/admin.conf $HOME/.kube/config 2kubectl get node you will see k8s pod runing\n","link":"https://blog.rogerogers.com/posts/ops/create-kubernetes-use-kubeadm/","section":"posts","tags":["linux","k8s","kubernetes"],"title":"Create kubernetes use kubeadm"},{"body":"","link":"https://blog.rogerogers.com/categories/","section":"categories","tags":null,"title":"Categories"},{"body":"","link":"https://blog.rogerogers.com/categories/dev/","section":"categories","tags":null,"title":"dev"},{"body":"","link":"https://blog.rogerogers.com/tags/docker/","section":"tags","tags":null,"title":"docker"},{"body":"","link":"https://blog.rogerogers.com/categories/k8s/","section":"categories","tags":null,"title":"k8s"},{"body":"","link":"https://blog.rogerogers.com/categories/ops/","section":"categories","tags":null,"title":"ops"},{"body":"Install apt install podman\nconfig On linux platform, podman put it's config in /etc/containers\nwe need config registries.yaml first\nfill the unqualified-search-registries config so you can searching or pulling by short names\nuse a local register to speed your pulling image insecure=true allow you skipping TLS verification\n1[[registry]] 2location=\u0026#34;localhost:5000\u0026#34; 3insecure=true you can blocking a registry, namespace, or image by set blocked=true\nconfig a mirror 1[[registry]] 2location=\u0026#34;registry.access.redhat.com\u0026#34; 3[[registry.mirror]] 4location=\u0026#34;internal.registry.mirror\u0026#34; Run podman has many of docker command, simplest you can just alias your docker command to podman\nalways run on when system reboot\nuse systemd\npodman provide simple command to generate a systemd config\npodman generate systemd --new --name redis \u0026gt; /etc/systemd/system/redis.service\nsystemctl enable --now redis\nthis will keep redis on when system reboot\n","link":"https://blog.rogerogers.com/posts/ops/using-podman-instead-docker/","section":"posts","tags":["docker","ops"],"title":"Using podman instead docker"},{"body":"","link":"https://blog.rogerogers.com/categories/golang/","section":"categories","tags":null,"title":"golang"},{"body":"","link":"https://blog.rogerogers.com/tags/grpc/","section":"tags","tags":null,"title":"grpc"},{"body":"","link":"https://blog.rogerogers.com/categories/grpc/","section":"categories","tags":null,"title":"grpc"},{"body":"1.Install protoc use apt\nsudo apt install protoc\nor download release from github direct, here i use ubuntu, for other platform, visit protocol\nwget https://github.com/protocolbuffers/protobuf/releases/download/v3.19.4/protoc-3.19.4-linux-x86_64.zip -o ${HOME}/.local/bin\n2.install protoc-gen-go go install google.golang.org/protobuf/cmd/protoc-gen-go@latest\ngo install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest\n3.write example code 1syntax = \u0026#34;proto3\u0026#34;; 2 3option go_package = \u0026#34;proto/ecommerce\u0026#34;; 4package ecommerce; 5 6message ProductID { string value = 1; } 7 8message Product { 9 string id = 1; 10 string name = 2; 11 string description = 3; 12} 13 14service ProductInfo { 15 rpc addProduct(Product) returns (ProductID); 16 rpc getProduct(ProductID) returns (Product); 17} and put this in a proto folder\n4.Gen proto for golang and grpc 1protoc --go_out=. --go_opt=paths=source_relative \\ 2 --go-grpc_out=. --go-grpc_opt=paths=source_relative proto/product_info.proto Explains of this options go_out define where to put your code go_opt define go_out options paths=import mean create the full import path of option go_package in your proto file, and paths=source_relative will ignore this module in go_opt will sub the prefix of you go_package option Now you can use it in you project\nJust a record, i'm still learning\n","link":"https://blog.rogerogers.com/posts/dev/protocol-buffers-with-golang/","section":"posts","tags":["golang","grpc"],"title":"Protocol-buffers with golang"},{"body":"Here are some ideas to get you started:\nðŸ”­ Iâ€™m currently working on Golang, Python ðŸŒ± Iâ€™m currently learning Rust ðŸ¤” Iâ€™m looking for help with Rust ðŸ’¬ Ask me about Golang, Python, Linux, DevOps, Kubernetes, Rust ðŸ˜„ Pronouns: rogerogers ","link":"https://blog.rogerogers.com/about/","section":"","tags":null,"title":"About"},{"body":"","link":"https://blog.rogerogers.com/posts/","section":"posts","tags":["golang","rust","k8s","grpc"],"title":"Posts"},{"body":"","link":"https://blog.rogerogers.com/categories/rust/","section":"categories","tags":null,"title":"rust"},{"body":"I'm begin learning rust.\n","link":"https://blog.rogerogers.com/posts/dev/learn-rust/","section":"posts","tags":["rust"],"title":"Begin learn rust"},{"body":"I'm begin learning golang.\n","link":"https://blog.rogerogers.com/posts/dev/learn-golang/","section":"posts","tags":["golang"],"title":"Begin learning golang"},{"body":"","link":"https://blog.rogerogers.com/archives/","section":"","tags":null,"title":""},{"body":"TraduÃ§Ã£o em portuguÃªs. Apenas para demonstraÃ§Ã£o, o resto do artigo nÃ£o estÃ¡ traduzido.\nWritten in Go, Hugo is an open source static site generator available under the Apache Licence 2.0. Hugo supports TOML, YAML and JSON data file types, Markdown and HTML content files and uses shortcodes to add rich content. Other notable features are taxonomies, multilingual mode, image processing, custom output formats, HTML/CSS/JS minification and support for Sass SCSS workflows.\nHugo makes use of a variety of open source projects including:\nhttps://github.com/yuin/goldmark https://github.com/alecthomas/chroma https://github.com/muesli/smartcrop https://github.com/spf13/cobra https://github.com/spf13/viper Hugo is ideal for blogs, corporate websites, creative portfolios, online magazines, single page applications or even a website with thousands of pages.\nHugo is for people who want to hand code their own website without worrying about setting up complicated runtimes, dependencies and databases.\nWebsites built with Hugo are extremelly fast, secure and can be deployed anywhere including, AWS, GitHub Pages, Heroku, Netlify and any other hosting provider.\nLearn more and contribute on GitHub.\n","link":"https://blog.rogerogers.com/about.pt/","section":"","tags":null,"title":"Sobre"},{"body":"","link":"https://blog.rogerogers.com/series/","section":"series","tags":null,"title":"Series"}]